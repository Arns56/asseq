<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON в MP4 Конвертер</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-video"></i> JSON в MP4 Конвертер</h1>
            <p class="subtitle">Загрузите JSON файл с данными и создайте видео</p>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-area" id="dropArea">
                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                    <h3>Перетащите JSON файл сюда</h3>
                    <p>или</p>
                    <label for="fileInput" class="browse-btn">
                        <i class="fas fa-folder-open"></i> Выберите файл
                    </label>
                    <input type="file" id="fileInput" accept=".json,application/json" hidden>
                    <p class="file-info">Поддерживаются только JSON файлы</p>
                </div>
            </div>

            <div class="json-preview">
                <h3><i class="fas fa-code"></i> Предпросмотр JSON</h3>
                <pre id="jsonPreview">Загрузите файл для просмотра содержимого...</pre>
            </div>

            <div class="video-controls">
                <h3><i class="fas fa-sliders-h"></i> Настройки видео</h3>
                <div class="controls-grid">
                    <div class="control-group">
                        <label for="duration"><i class="fas fa-clock"></i> Длительность (секунды)</label>
                        <input type="number" id="duration" value="10" min="1" max="60">
                    </div>
                    <div class="control-group">
                        <label for="bgColor"><i class="fas fa-palette"></i> Цвет фона</label>
                        <input type="color" id="bgColor" value="#1a73e8">
                    </div>
                    <div class="control-group">
                        <label for="textColor"><i class="fas fa-font"></i> Цвет текста</label>
                        <input type="color" id="textColor" value="#ffffff">
                    </div>
                    <div class="control-group">
                        <label for="fontSize"><i class="fas fa-text-height"></i> Размер шрифта</label>
                        <input type="range" id="fontSize" min="16" max="72" value="36">
                        <span id="fontSizeValue">36px</span>
                    </div>
                </div>
            </div>

            <div class="action-section">
                <button id="convertBtn" class="convert-btn" disabled>
                    <i class="fas fa-sync-alt"></i> Конвертировать в MP4
                </button>
                <div class="loading hidden" id="loading">
                    <div class="spinner"></div>
                    <p>Создание видео...</p>
                </div>
                <div class="download-section hidden" id="downloadSection">
                    <h3><i class="fas fa-check-circle"></i> Видео готово!</h3>
                    <a id="downloadLink" class="download-btn">
                        <i class="fas fa-download"></i> Скачать MP4
                    </a>
                </div>
            </div>

            <div class="instructions">
                <h3><i class="fas fa-info-circle"></i> Как использовать</h3>
                <ol>
                    <li>Загрузите JSON файл (пример структуры ниже)</li>
                    <li>Настройте параметры видео</li>
                    <li>Нажмите "Конвертировать в MP4"</li>
                    <li>Скачайте готовое видео</li>
                </ol>
                
                <div class="json-example">
                    <h4>Пример структуры JSON:</h4>
                    <pre>{
  "title": "Пример данных",
  "data": [
    {"name": "Элемент 1", "value": 100},
    {"name": "Элемент 2", "value": 200},
    {"name": "Элемент 3", "value": 150}
  ],
  "summary": "Это пример данных для видео"
}</pre>
                </div>
            </div>
        </main>

        <footer>
            <p>Создано с помощью HTML Canvas и JavaScript</p>
            <p class="github-link">
                <i class="fab fa-github"></i> 
                <a href="https://github.com" target="_blank">GitHub репозиторий</a>
            </p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ffmpeg.js@latest/ffmpeg.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
